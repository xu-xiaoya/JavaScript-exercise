<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Document</title>
<style></style>
</head>

<body>
<!-- 页面上五个完全相同的按钮，点哪个按钮，让按钮弹出自己是第几个 -->
<button>click me!</button>
<button>click me!</button>
<button>click me!</button>
<button>click me!</button>
<button>click me!</button>

<script>
var btns = document.getElementsByTagName("button");
// btns:[button button button button button]
//          0    1      2       3       4
//          ↑
//          i →

for (var i = 0; i < btns.length; i++) {
    (function(i){      //循环几次，妈妈就调用几次
        // var i; //如果有形参，相当于局部变量

        // 按钮一直存在=>全局定义，不用将函数返回到外部
        btns[i].onclick = function() {  //每调用一次妈妈，就创建一个孩子函数，并将本次传入的i值放在局部变量中包成红包给孩子专属使用，
            alert(i);
        }
    })(i); //匿名函数调用时，也可传入参数i，而原始类型值传参，是复制副本的意思
    //将外部循环变量i的临时值，赋值给妈妈中的局部变量i,被孩子永久保存起来。|

}
console.log(i)
// 一般单击按钮，都只能在循环结束后
// 此时单击按钮，会自动调用按钮上提前保存的事件处理函数
</script>
</body>

</html>