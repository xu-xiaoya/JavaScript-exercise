<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>setTimeout</title>
</head>

<body>
<p>text</p>
<h1>TEXT</h1>
<script type = "text/javascript">
//当鼠标移过每个子元素，会延迟半秒钟弹出一个提示对话框，显示当前元素的名称
    var o = document.getElementsByTagName("body")[0].childNodes;
    for (var i = 0; i < o.length; i++) {
        o[i].onmouseover = function(i) {
            return function() {
                f(o[i]);
            }
        }(i);
    }

    //为每个元素注册鼠标移出时清除延迟函数
    o[i].onmouseout = function(i) {
        return function() {
            clearTimeout(o[i].out);
        }
    }(i);

    function f(o) {
        //为防止混淆多个注册的延迟处理函数，分别把不同元素的延迟处理函数的引用存储在该元素对象的out属性中
        o.out = setTimeout(function(){
            alert(o.tagName);
        },500);
    }
</script>
</body>
</html>